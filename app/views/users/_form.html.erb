<%= form_for @user, :html => { :class => 'form-horizontal' } do |f| %>
  <div class="control-group">
    <%= f.label :gtusername, "GT Username", :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :gtusername, :class => 'text_field', :readonly => true %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :email, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :email, :class => 'text_field', :required => true %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :firstname, "First Name", :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :firstname, :class => 'text_field', :required => true %>
    </div>
  </div>
  <div class="control-group">
    <%= f.label :lastname, "Last Name", :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :lastname, :class => 'text_field', :required => true %>
    </div>
  </div>

  <% if @user.isStudent? %>

    <div class="control-group">
      <%= f.label :semester_id, :class => 'control-label' %>
      <div class="controls">
        <%= select("semester", "id", Semester.all.collect {|s| [s.id, s.name] }, :selected => 1) %>
      </div>
    </div>
    
    <% Semester.all.each do |s| %>
      <div class="control-group">
        <%= f.label :section_id, :class => 'control-label' %>
        <div class="controls">
          <%= f.collection_select :section_id, Semester.find(s.id).sections, :id, :name  %>
        </div>
      </div>
    <% end %>

  <% end %>

  <div class="control-group" style="display: none">
    <%= f.label :type, :class => 'control-label' %>
    <div class="controls">
      <%= f.text_field :type, :class => 'text_field' %>
    </div>
  </div>

  <div class="form-actions">
    <%= f.submit "Save", :class => 'btn btn-primary' %>
    <%= link_to t('.cancel', :default => t("helpers.links.cancel")),
      root_path, :class => 'btn' %>
    </div>
  <% end %>
